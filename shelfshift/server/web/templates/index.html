{% extends "base.html" %}

{% block content %}
  <section class="panel">
    <h2 class="landing-heading">Library-first tooling for catalog translation pipelines</h2>
    <p class="landing-subtitle">
      Use Shelfshift as a Python library or CLI in automation. The web interface is a thin facade for quickly exercising server features during local development.
    </p>
    <div class="surface-tags">
      <span class="surface-tag"><code>shelfshift.core</code> canonical engine</span>
      <span class="surface-tag"><code>shelfshift</code> CLI automation</span>
      <span class="surface-tag"><code>shelfshift-server</code> self-hosted API</span>
    </div>
  </section>

  <section class="panel grid dev-grid">
    <div class="dev-column">
      <h2>Quick Start Commands</h2>
      <p class="api-note">Install once, then use library/CLI directly.</p>
      <pre class="command-preview"><code>pip install shelfshift
shelfshift --help
shelfshift detect ./source.csv</code></pre>

      <h3>Library Sample</h3>
      <pre class="command-preview"><code>from shelfshift.core import import_url, export_csv

result = import_url("https://example.myshopify.com/products/demo-item")
product = result.products[0]
exported = export_csv(product, target="shopify", options={"publish": False, "weight_unit": "g"})</code></pre>
    </div>

    <aside class="info">
      <h2>Developer Facade</h2>
      <p>Use these pages to sanity-check endpoint behavior quickly:</p>
      <ul>
        <li><a href="/url">URL Playground</a>: POST <code>/api/v1/import</code></li>
        <li><a href="/csv">CSV Playground</a>: POST <code>/api/v1/import/csv</code></li>
        <li>Export from canonical payload: POST <code>/api/v1/export/from-product.csv</code></li>
      </ul>
      <p class="api-note">For complete API surface, use <a href="/docs" target="_blank" rel="noopener noreferrer">Swagger UI</a>.</p>
    </aside>
  </section>

  <section class="panel">
    <h2>Core Capabilities</h2>
    <div class="capability-grid">
      <div class="capability-card">
        <p class="capability-title">Detection</p>
        <p>Detect URL or CSV source platform before import.</p>
      </div>
      <div class="capability-card">
        <p class="capability-title">Canonicalization</p>
        <p>Normalize imported data to one typed product contract.</p>
      </div>
      <div class="capability-card">
        <p class="capability-title">Export</p>
        <p>Emit target-platform CSVs from canonical product payloads.</p>
      </div>
      <div class="capability-card">
        <p class="capability-title">Batch + Partial Success</p>
        <p>Handle multiple products while preserving per-item errors.</p>
      </div>
    </div>
  </section>
{% endblock %}
